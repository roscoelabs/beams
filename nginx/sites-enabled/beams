
#Beams v0.2.x (Beta)
#Copyright (c) 2014-2015 Peter McKay
#Free to use under MIT license.

#upstream project {
#  server 123.456.68.90;
#}

server {
  listen 443 ssl spdy default_server;
  listen [::]:443 default_server;
  server_name example.com;
  ssl_certificate ../ssl/certs/example.crt;
  ssl_certificate_key ../ssl/certs/example.key;
  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
  ssl_ciphers HIGH:!aNULL:!MD5;
  add_header Strict-Transport-Security max-age=500;
  root /var/www;
  index index.html;

  location / {

    #add_header X-Proxy-Cache $upstream_cache_status;
    #include proxy_params;
    #proxy_set_header Host $host;
    #proxy_pass http://project;

    try_files $uri $uri/ =404;
  }

  #Setting cache to public for nested JavaScript, CSS, and media files...

  location /*/* {
    expires 6h;
    access_log off;
    add_header Cache-Control "public";
  }

}

server {
  listen 80;
  return 301 https://$host$request_uri;
}

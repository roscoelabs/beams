(function($){var methods={open:function(options){var defaults={'url':'','width':600,'height':400,'opacity':70,'id':'popupBlock','onInterstitialClose':function(){}};var settings=$.extend({},defaults,options);$('body').append('<div id="fade"></div>');$('#fade').css({'filter':'alpha(opacity='+settings.opacity+')'}).fadeIn();$('body').append('<div id="'+settings.id+'"></div>');$('#'+settings.id).load(settings.url,function(){$('#'+settings.id).css({'width':Number(settings.width),'height':Number(settings.height)}).fadeIn()});var popMargTop=settings.height/2;var popMargLeft=settings.width/2;$('#'+settings.id).css({'margin-top':-popMargTop,'margin-left':-popMargLeft});$('#fade').live('click',function(){$().interstitial('close',settings)})},close:function(options){var defaults={'id':'popupBlock','onInterstitialClose':function(){}};var settings=$.extend({},defaults,options);$('#fade , #'+settings.id).fadeOut(function(){$('#fade').remove()});settings.onInterstitialClose.call(this)}};$.fn.interstitial=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on jQuery.interstitial')}}})(jQuery);